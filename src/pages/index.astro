---
import Layout from '../layouts/Layout.astro'

import { profile, homepage } from '@/settings'
import { publications } from '@/data/cv'
import MyIcon from '@/assets/Me.jpeg'
import Me from '@/assets/Me.jpeg'
import Hero from '@/components/ui/Hero.astro'
import Grid from '@/components/ui/Grid.astro'
import ArticleList from '@/components/ui/ArticleList.astro'

const { fullName, title, institute, research_areas } = profile
const { featuredVideo } = homepage

// Welcome to Astro! Wondering what to do next? Check out the Astro documentation at https://docs.astro.build
// Don't want to use any of this? Delete everything in this file, the `assets`, `components`, and `layouts` directories, and start fresh.
---

<Layout>
	<!-- Hero Section -->
	<section class='flex items-center gap-12 border-b pb-12'>
		<Hero
			fullName={fullName}
			title={title}
			institute={institute}
			profilePicture={MyIcon}
			MyPicture={Me}
		/>
	</section>

	<!-- Featured Research Activity -->
	<section class='py-12 border-b'>
		<div class='grid gap-8 lg:grid-cols-12 items-start'>
			<div class='space-y-4 lg:col-span-5'>
				<p class='text-sm font-semibold uppercase tracking-[0.08em] text-accent'>Research Activity</p>
				<h2 class='text-2xl font-bold text-base-content'>{featuredVideo.title}</h2>
				<p class='text-base text-base-content/70 leading-relaxed'>{featuredVideo.description}</p>
				{featuredVideo.activities && (
					<ul class='space-y-2 text-base text-base-content/80 list-disc pl-5'>
						{featuredVideo.activities.map((item) => (
							<li>{item}</li>
						))}
					</ul>
				)}
			</div>
			<div class='lg:col-span-7 w-full rounded-2xl overflow-hidden shadow-xl border border-base-300 bg-base-200'>
				<div class='aspect-video bg-base-100'>
					<video
						controls
						autoplay
						muted
						loop
						playsinline
						preload='metadata'
						poster={featuredVideo.poster}
						class='w-full h-full object-cover'
					>
						<source src={featuredVideo.videoSrc} type='video/mp4' />
						Your browser does not support the video tag.
					</video>
				</div>
			</div>
		</div>
	</section>

	<!-- Research Areas -->
	<section class='py-12 border-b'>
		<Grid gridTitle='Research Areas' gridItems={research_areas} />
	</section>	
	
	<!-- Recent Publications -->
	<section class='py-12 border-t'>
		<ArticleList listTitle='Recent Publications' listItems={publications} />
	</section>
</Layout>
